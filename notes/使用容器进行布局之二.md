### 涉及内容

- 使用四种布局管理器进行布局
- 使用容器进行布局

### 布局管理器布局

主要是四种布局的组合、嵌套使用。

### 容器进行布局

本质上仍是调用布局管理器进行，只不过在操作时，可以直接对容器添加布局，从而作用在容器内的控件上。

### Qt Designer实战应用

使用PyQt5的难点仍然是在布局管理器这里。

**学习属性编辑器的用法**

从简单的`QPushButton`这个例子来看。

- geometry
- sizePolicy
- minimumSize
- maxmumSize

#### 绝对布局

设置`geometry`属性，用于设置**控件在窗口中的绝对坐标**与**控件自身的大小**。

可以设置四个值：

- X
- Y
- 高度
- 宽度

这都比较好理解，重点是`sizePolicy`这个属性的理解。

注意，在Designer中设计时长啥样，代码转化出来也就是啥样。

### 使用布局管理器进行布局

在布局中的控件的`geometry`属性变得不可编辑。

原因在于，这些控件的位置与大小由布局管理器进行接管，与`geometry`无关了。

设计好的窗体，直接在：**窗体 --> 预览**就可以看到效果。

**Q: 这种界面文件和逻辑文件分离的写法，如何在逻辑文件代码里拿到界面上的控件？**

A: 逻辑文件里，会先定义一个类，`class MyMainWindow(QMainWindow, Ui_MainWindow):`，这个类是继承自两个类，一个是自带的`QMainWindow`类，另一个是界面控件类。儿子拿老子的也很正常，所以直接通过`self.xx`拿即可。但是注意，要在`self.setupUI(self)`执行完毕后才有控件创建~ 我开始就有犯这个错。

PyQt的一个基本原则：主窗体中的所有窗口控件都有自己的父类。

#### `minimumSize,maxmumSize,sizePolicy`

这三个属性的重要性不言而喻，因为使用布局管理器，控件在布局管理器中的位置管理可以通过这三个来描述。

#### sizePolicy属性

为了了解`sizePolicy`,先要了解两个概念：

- sizeHint
- minimizeHint

**关于水平伸展和垂直伸展**

会根据设定的数字来瓜分布局空间。

### Qt Designer布局的顺序

1. 将一个窗口控件拖入窗口并放置在大致正确的位置，除了容器窗口，一般不需要调整窗口的尺寸大小
2. 对于要用代码引用的窗口控件，应制定一个名字，对于需要微调的窗口控件，可以设置对应的属性
3. 重复1，2，直到所需要的全部窗口控件都放到了窗口中
4. 如果需要一些细节设计，可以在控件之间加入`Vertical Spacer`, `Horizontal Spacer`,`Horizontal Line`, `Vertical Line`等来隔开
5. 上面是先放小的控件，现在开始布局。使用四大布局管理器或者切分窗口splitter来进行布局
6. 重复步骤5，直到所有的窗口空间和分隔符都布局好为止
7. 为窗体进行布局，使用布局管理器（前面用到的是对控件进行布局管理）
8. 为窗口标签设置伙伴关系
9. 设置Tab键次序
10. 信号槽连接建立
11. 预览窗口，看是否按照预想工作
12. 设置窗口对象名
13. pyuic5编译
14. 编写业务逻辑代码



