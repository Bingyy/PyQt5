[ å‚è€ƒé“¾æ¥](http://zetcode.com/gui/pyqt5/menustoolbars/)



åˆ›å»ºä¸‰ç§å°ç»„ä»¶ï¼š

- statusbar
- menubar
- toolbar

èœå•æ˜¯ä¸€ç»„æ”¾åœ¨`menubar`ä¸­çš„å‘½ä»¤ã€‚

å·¥å…·æ¡åŒ…å«ä¸€äº›æŒ‰é’®ï¼ŒæŒ‰é’®å¯¹åº”ç€é€šç”¨çš„ä¸€äº›åŠŸèƒ½ã€‚

çŠ¶æ€æ ç”¨äºæ˜¾ç¤ºç¨‹åºè¿è¡ŒçŠ¶å†µï¼Œé€šå¸¸åœ¨ç¨‹åºçª—å£åº•éƒ¨ã€‚

### QMainWindow



æä¾›çš„æ˜¯ä¸€ä¸ªä¸»ç¨‹åºçª—å£ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥æ„å»ºç»å…¸çš„åº”ç”¨ç¨‹åºéª¨æ¶ï¼ŒåŒ…å«ä¸Šé¢ä¸‰ä¸ªå°ç»„ä»¶ã€‚



#### çŠ¶æ€æ 



```python
#!/usr/bin/python3
# -*- coding: utf-8 -*-

"""
Time: 20180516
"""

import sys
from PyQt5.QtWidgets import QMainWindow, QApplication


class Example(QMainWindow): # ç”¨çš„çˆ¶ç±»æ˜¯QMainWindow
    
    def __init__(self):
        super().__init__()
        
        self.initUI()
        
        
    def initUI(self):               
        # æ˜¾ç¤ºå‡ºæ¥QMainWindowè‡ªå¸¦çš„çŠ¶æ€æ å¯¹è±¡å¹¶æ˜¾ç¤ºæ–‡å­—
        self.statusBar().showMessage('Ready')
        
        self.setGeometry(300, 300, 450, 450)
        self.setWindowTitle('Statusbar')    
        self.show()


if __name__ == '__main__':
    
    app = QApplication(sys.argv)
    ex = Example()
    sys.exit(app.exec_())


```

å°±æ˜¯å”¤é†’`QMainWindow`ä¸­çš„çŠ¶æ€æ å¯¹è±¡ï¼Œå¹¶è®¾å®šæ˜¾ç¤ºæ–‡å­—å³å¯ã€‚

#### èœå•æ 

åœ¨Macç³»ç»Ÿä¸‹çš„èœå•æ æ˜¾ç¤ºæ˜¯æœ‰ç‚¹ä¸åŒçš„ï¼Œä¸€èˆ¬æ˜¯åœ¨Appleå›¾æ ‡åé¢ï¼Œä¸ºäº†æ˜¾ç¤ºç±»ä¼¼çš„æ•ˆæœï¼ŒåŠ ä¸Šä¸‹é¢è¿™å¥å³å¯ï¼š

`menubar.setNativeMenuBar(False)`



```python
#!/usr/bin/python3
# -*- coding: utf-8 -*-

import sys
from PyQt5.QtWidgets import QMainWindow, QAction, qApp, QApplication
from PyQt5.QtGui import QIcon


class Example(QMainWindow):
    
    def __init__(self):
        super().__init__()
        
        self.initUI()
        
        
    def initUI(self):               
        
        exitAct = QAction(QIcon('icons/exit.png'), '&Exit', self)        
        exitAct.setShortcut('Ctrl+Q')
        exitAct.setStatusTip('Exit application') # é•¿æŒ‰æ—¶ä¼šåœ¨åº•éƒ¨çŠ¶æ€æ æ˜¾ç¤ºæç¤º
        exitAct.triggered.connect(qApp.quit) # ç»‘å®šçš„æ§½æ˜¯ctrl+qé€€å‡ºï¼ŒMacä¸‹æ˜¯cmd+q

        self.statusBar().showMessage('å‡†å¤‡å¥½äº†~')

        menubar = self.menuBar()
        fileMenu = menubar.addMenu('&File')
        fileMenu.addAction(exitAct)
        
        self.setGeometry(300, 300, 600, 600)
        self.setWindowTitle('Simple menu')    
        self.show()
        
        
if __name__ == '__main__':
    
    app = QApplication(sys.argv)
    ex = Example()
    sys.exit(app.exec_())
```



æ‰€ä»¥è¿™ä¸ªä»£ç ç‰‡æ®µå°±æ˜¯ç”¨åˆ°æ—¶ç›´æ¥å¤ç”¨å³å¯ï¼Œä¸å¿…è®°ä½è¿™ä¹ˆç»†èŠ‚ï¼Œæ›´å¤§ä¸€ç‚¹è¯´ï¼Œè¿™ä¸ªrepoä¸‹çš„ä»£ç ç‰‡æ®µéƒ½å¯ä»¥è¿™ä¹ˆåšï¼Œ**ç•™ä¸ªçº¿å¤´ï¼Œç”¨åˆ°æ—¶æŠ“ä½çº¿å¤´å³å¯ã€‚**



`QAction`æ˜¯å¯¹èœå•æ ã€å·¥å…·æ æˆ–è€…è‡ªå®šä¹‰å¿«æ·é”®ä¸‹çš„åŠ¨ä½œçš„æŠ½è±¡ã€‚

ä¸Šé¢è™½ç„¶æ·»åŠ äº†å›¾æ ‡ï¼Œä½†æ˜¯æˆ‘åœ¨Macä¸Šæ²¡çœ‹åˆ°å“ğŸ˜”ã€‚

Update: æ·»åŠ ä¸‹é¢è¿™å¥å°±å¯ä»¥äº†ï¼š

```python
# è®¾ç½®èœå•æ æ˜¾ç¤ºémacOSåŒ–
self.menuBar().setNativeMenuBar(False)
```

![](/Users/rick/Desktop/å±å¹•å¿«ç…§ 2018-05-16 ä¸‹åˆ4.47.50.png)



èœå•æ•ˆæœå¦‚ä¸Šæ‰€ç¤ºã€‚

ç‚¹å‡»`Exit`åï¼Œä¿¡å·è¢«å‘å‡ºï¼Œè¿™ä¸ªä¿¡å·ç»‘å®šåˆ°çš„æ˜¯`quit()`æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯`QApplication`ç»„ä»¶ä¸‹çš„ï¼Œè¿™ä¸ªæ–¹æ³•ä¸€æ—¦è¢«æ‰§è¡Œï¼Œå°±é€€å‡ºç¨‹åºã€‚

ä¸Šé¢å›´ç»•ç€æ„å»ºç‚¹å‡»é¡¹çš„åŠ¨ä½œè®²äº†è¿™ä¹ˆå¤šï¼Œå®é™…èœå•æ„å»ºæ˜¯ä¸‹é¢çš„ä»£ç ï¼š

```python
menubar = self.menuBar()
fileMenu = menubar.addMenu('&File')
fileMenu.addAction(exitAction)
```

1. æ„å»ºèœå•æ 
2. æ·»åŠ èœå•`File`
3. ç»™èœå•æ·»åŠ åŠ¨ä½œ`exitAction`



**å­èœå•**

ä¸Šé¢çš„æ¡ˆä¾‹é‡Œï¼Œ`File`æ˜¯ä¸€çº§èœå•ï¼Œä¸€çº§èœå•ä¸‹é¢ç›´æ¥æ”¾äº†æœ‰äº‹ä»¶å“åº”çš„åŠ¨ä½œã€‚**èœå•æ˜¯ç”¨äºç»„ç»‡å†…å®¹çš„æ–¹å¼ï¼Œå…·ä½“æ‰§è¡Œæ˜¯è¦çœ‹åŠ¨ä½œçš„**ã€‚**å­èœå•**æ˜¯æ”¾åœ¨èœå•é‡Œçš„èœå•ï¼Œå­èœå•é‡Œä¹Ÿå¿…é¡»æœ‰**èœ**æ‰èƒ½æ‰§è¡Œã€‚



#### å·¥å…·æ 





#### 



